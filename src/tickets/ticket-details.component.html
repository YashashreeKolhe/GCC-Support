<div class="modal-header">
  <h4 class="modal-title pull-left">{{ mode === 1 ? 'New Ticket' : 'Ticket Details' }}</h4>
</div>
<div class="modal-body" *ngIf="ticket">
  <form>
    <div class="form-row">
      <div class="form-group col-sm-3">
        <label for="ticketId">Ticket Id</label>
        <label class="form-control" name="ticketId">{{ ticket.id }}</label>
      </div>
      <div class="form-group col-sm-3">
        <label for="submittedBy">Submitted By</label>
        <label class="form-control" name="submittedBy">{{ ticket.email }}</label>
      </div>
      <div class="form-group col-sm-2">
        <label for="submittedDate">Submitted Date</label>
        <label class="form-control" name="submittedDate">{{ ticket.submittedDate | date: 'shortDate' }}</label>
      </div>
      <div class="form-group col-sm-4">
        <label for="subject">Subject</label>
        <label class="form-control" name="subject">{{ ticket.subject }}</label>
      </div>
    </div>
    <hr>
    <div class="form-row">
      <div class="form-group col-sm-12">
        <label for="description">Description</label>
        <textarea class="form-control" rows="5" id="description" name="description" [(ngModel)]="ticket.description"></textarea>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-sm-3">
        <label for="category">Category</label>
        <select class="form-control" [(ngModel)]="ticket.category" name="category" #item>
          <option *ngFor="let category of categories" id="answeredBy" [value]="category">{{category}}
          </option>
        </select>
      </div>
      <div class="form-group col-sm-3">
        <label for="assignedTo">Assignee</label>
        <select class="form-control" [(ngModel)]="ticket.assignee" name="assignedTo" #item>
          <option *ngFor="let name of names" id="assignedTo" [value]="name.Name">{{name.Name}}
          </option>
        </select>
      </div>
      <div class="form-group col-sm-3">
        <label for="escalatedTo">Escalated To</label>
        <select class="form-control" [(ngModel)]="ticket.escalatedTo" name="escalatedTo" #item>
          <option *ngFor="let name of names" id="escalatedTo" [value]="name.Name">{{name.Name}}
          </option>
        </select>
      </div>
      <div class="form-group col-sm-3">
        <label for="status">Status</label>
        <select class="form-control" [(ngModel)]="ticket.ticketStatus" name="status" #item>
          <option *ngFor="let status of statusValues" id="status" [value]="status">{{status}}
          </option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-sm-12">
        <label for="Answer">Answer</label>
        <textarea class="form-control" rows="4" id="Answer" name="Answer" [(ngModel)]="ticket.answer"></textarea>
      </div>
    </div>
    <div class="form-row" *ngFor="let note of ticket.notes; let indexElement = index">
      <div class="form-group col-sm-12">
        <label for="Note">Note {{indexElement + 1}}</label>
        <textarea class="form-control" rows="2" id="Note" name="Note" [value]="note"></textarea>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group pull-right">
        <button class="btn btn-success" (click)="addNoteFlag = 1">Add Note</button>
      </div>
    </div>
    <div class="form-row" *ngIf="addNoteFlag === 1">
      <div class="form-group col-sm-12">
        <label for="Note">Note</label>
        <textarea class="form-control" rows="2" id="Note" name="Note" [(ngModel)]="newNote"></textarea>
      </div>
    </div>
  </form>
</div>

<div class="modal-footer">
  <div class="pull-left">
    <button class="btn btn-success" (click)="onSaveTicket()">{{ mode === 1 ? 'Save' : 'Update' }}</button>
    <button class="btn btn-basic" (click)="exit.emit()">Cancel</button>
  </div>
</div>